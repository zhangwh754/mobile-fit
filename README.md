## 移动端适配

### meta视口标签

```html
// 最标准的移动端meta视口标签写法
<meta
    name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
/>
```

|     属性      |                       效果                       |
| :-----------: | :----------------------------------------------: |
|     width     | 设置的是视口宽度，也可以设置为device-width特殊值 |
| initial-scale |                初始缩放比，大于0                 |
| maximum-scale |                最大缩放比，大于0                 |
| minimum-scale |                最小缩放比，大于0                 |
| user-scalable |        用户是否可以缩放（yes\|no\|1\|0）         |

### 二倍图

- 一张50*50的图片，在手机打开（如iPhone6/7/8），因为物理像素的原因会放大X倍，造成模糊
- 通常放大一倍，因此会使用100\*100的图片，使用时再设置图片大小为50\*50

### 精灵图背景二倍图

例：

- 一张300\*200的精灵图，先手动缩放为150\*100，再计算偏移量和大小
- 给元素计算的大小
- 给元素偏移量为计算的偏移量
- 设置背景图大小为一半的宽度，高度自动即可
- 三倍图方法相同

### 几种响应式适配方案

#### 1-rem方案

设置根元素字体为一定比例的当前视口的px大小，后续使用rem计算字体大小和元素大小

配合媒体查询，可以简单的设置最大和最小宽度

##### 使用方式

- 使用amfe-flexible库，会设置html大小为屏幕宽度/10的px
- 375设计稿，cssrem插件，或postcss插件，设置基准为37.5
- 使用时按照设计稿，使用px，会将px转换为rem

##### 缺点

- 使用时需要先引入JS



#### 2-纯vw方案（不推荐）

声明计算函数，后续使用vw计算字体大小和元素大小

##### 使用方式

- 使用scss函数计算，以375px设计稿为例
- 100px的元素，传入函数，除以375再称100vw，即得到对应的vw

##### 缺点

- 兼容性问题
- vw会计算入纵向滚动条的宽度，会进一步导致出现横向滚动条
- vw



#### 3-结合vw+rem+媒体查询 方式

通过媒体查询，设置根元素的字体大小为对应的大小

小于小阈值，设置为px，防止过小

两个阈值之间，设置为vw，可以响应式

大于大阈值，设置为px，为最大显示

- postcss插件或cssrem设置基准为37.5即可，页面会在320px到750之间自动适配
- 单位使用rem即可

```scss
@media (max-width: 319px) {
  html {
    font-size: 32px;
  }
}

@media (min-width: 320px) {
  html {
    font-size: 10vw;
  }
}

@media (min-width: 750px) {
  html {
    font-size: 75px;
  }
}
```

